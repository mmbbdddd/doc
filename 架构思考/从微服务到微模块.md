# 新闻一则

https://zhuanlan.zhihu.com/p/674870383

前几天 这样一则新闻重新把微服务送上了新闻热搜


相关的分析和改进可以看这里

https://github.com/mmbbdddd/process-control



# 微服务是是非非

事实上，作为一个有经验的，有嗅觉，有思考的技术过来人。我还见过类似的情况

05年的时候，SOA和现在的微服务一样火。

当年，我还很年轻，一腔热血的感觉这技术很有前途，各种百度学习。

当时SOA的主流实现是ESB，现在dubbo这种模式连影都没有；ESB算是比较重的，小公司当然用不来，spring推荐的是http invker

这种轻量级的模式。 虽然丑，但能用。 闭上眼  关上灯 也凑合。


现在回头看，你认为ESB是弯路，dubbo这种RPC是正途么？  

太简单了

现在回头看起来，ESB是架构的正途，实现的弯路。dubbo是架构的弯路，实现的正途。

架构上分析一个技术的好坏，永远是实体、数量、确定性。

DUBBO这种架构带来了更大的碎片化，不可控性——————当然，他也带来了极致速度的扩张————很多互联网公司在业务快速
扩展的阶段，使用微服务，很快的可以支持业务的快速发展，然而2-~3年的时间，应用数量能膨胀到数百到数千个。

而治理起来，就难的多了

蚂蚁用了5年时间，服务快速膨胀到了3000，然而话费了3年中台治理，杯水车薪。


新一代的网关，已经抛弃了RPC这种难以治理的碎片化机构，已经集南北向（NG/ESB），东西（RPC，注册中心）于一体。


…………

话扯远了&……

回到主题：架构上分析一个技术的好坏，永远是实体、数量、确定性。


**微服务，最大的罪恶是增加了实体的数量（复杂性）。**


### 天下大势

ESB方向对，路子错了，RPC路子对，方向错了，他们最终融合成了东西南北向网关

微服务有种种问题，最大的意义上就是吧软件内部的复杂性，揉开了，

虽然是粒度粗、性能差的模块，但也是模块

从微服务进化到微模块，不那么难。


最近，spring就开始这么↑了

https://springdoc.cn/spring-modulith-intro/



### 说个趣闻

我在XXX公司的时候，想做微服务流程编排。

报到首席架构师哪里，他建议用flowable，做成pass。

但是我们作为应用方（用户方），是希望轻量级的jar包的。

然后这事他们不肯做。

……

大多数时候，如EJB，一样，很多事情没做好，并不是能力或者技术问题

去微服务之所以那么难……其实也没多难……也并不是技术的问题







