![img.png](img.png)

##约定
以下讲实体、值对象等，默认包含其数据+逻辑
聚合：和请求有关的值对象工厂的聚合、一致性检查、聚合逻辑
上下文：和请求有关的、值对象、处理状态
## CRUD系统
系统典型特征
1，实体请求的处理
2，处理过程比较短、简单。一般没有很复杂的状态变化。
架构上：往往SSH，三层架构就可以了
## 长流程、订单系统
系统典型特征
1，实体请求的处理
2，处理过程比较长。有比较复杂的状态变化。
3，涉及业务变化较少。组件构成和SOA比较少。
## 长、多变流程订单系统
系统典型特征
1，实体请求的处理
2，处理过程比较长。有比较复杂的状态变化。
3，涉及业务变化较少。组件构成和SOA比较多。
架构上：往往SSH+PIPELINE|流程编排
## 多变、长流程系统
系统典型特征
1，处理过程比较长。有比较复杂的状态变化。
2，涉及业务变化较多。组件构成和SOA比较多。
架构上：除了必须的增删改查组件外（SSH?)，PIPELINE或者流程编排是关键架构特征，会引用大量的能力组件。
以jenkins为例子，可编排流程，可编排maven，gradle，ant.....各种能力组件
etl：有图形化的流程编排组件，可编排shell，sql，文件导入，javabean等各种组件。

**从此类系统开始，配备架构师+核心开发是很有必要的。**
## 高一致、长流程、复杂多变系统
系统典型特征
1，处理过程比较长。有比较复杂的状态变化。
2，涉及业务变化较多。组件构成和SOA比较多。
3，对一致性要求高
架构上：如果性能要求高状态机是必须的。如果业务量大的甚至会有PAXOS、etcd、ZK等分布式的一致性算法组件。
同时，会有大量的能力组件抽象和工厂结构：比如OS的文件抽象。动态载入机制。具备极简内核和极灵活的能力扩展。
对错误和不一致性的有要求非常高、在任何阶段。最好是在编译（静态）和工厂载入（动态）阶段就有非常严格一致的检查
从工程上，往往采用瀑布，V型研发流程。

