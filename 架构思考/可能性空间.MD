## 综叙

    1，给出架构的定义和追求：
    3，架构设计的兜底方式是什么？
    4，软件架构中落地的方式是什么？

### 架构的定义 
有很多

    1，系统和子系统
    2，模块和组件
    3，业务架构、数据架构、应用架构、技术架构、部署架构……
    4，UML9图
相关资料如链接
https://zh.wikipedia.org/wiki/%E8%BD%AF%E4%BB%B6%E6%9E%B6%E6%9E%84
https://zh.wikipedia.org/wiki/%E6%9E%B6%E6%9E%84%E6%A8%A1%E5%BC%8F
https://cloud.tencent.com/developer/article/1680724

可以看的出来，相似，又很乱。

123的定义模式，其实是循环定义，没有意义。
4的定义本质上是描述操作；他们始终停留在相的层次上，还没有达到见诸相非相。

实际上，架构这个词不仅仅是软件开发行业的。他在其他行业也是非常常见而重要的。
并且他们的内涵其实都一样。

实际上，上面的任何一个定义无法扩展至任何一个其他外延领域。

我认为，架构定义是：复杂+确定性+可能性空间。是在在极大复杂性中追求最大确定性
和可能性空间的设计活动


在软件的架构设计中，有最大确定性和可能性空间的设计理论是领域驱动。从拓扑学上
讲一个东西体积最小，则可能性空间最大。领域驱动排除了所有技术因素、并且将业务
抽象至最小，体积最小可能性最大。而领域概念本身的抽象遵循MECE的原则，技术实现上
遵循（Entity/VO/聚合/工厂/隔离层）这个最佳实践。逻辑上讲是具有最简，具有最低
不确定性的。


### 架构的兜底设计
然而任何客观科学和哲学的基本原则是：越是少的设计，便可能是高确定性、高可能性的；
然而如果有偏差的话：那结果便是混沌。

如何控制呢？
基本原则是：分层、隔离。

然而，分层和隔离是一种熵增的行为，和架构设计的目的就是矛盾的。

所以，并非是越多越好，最佳是在领域的边界处————领域系统是天然隔离的————非领域系统需要
强制性的拆分隔离。————当然必须忍受这种熵增的代价。

大多数系统都可以容忍这种代码，来换取稳定性。当然，极少数几位苛刻的系统不可以，比如操作系统不能
容忍微内核（隔离），游戏系统不能容忍微服务（延迟）。

这种场景也有自己的解决方案，比如虚接口，模块化、零成本抽象……所谓的零成本不是真正的零成本，
当然意味着更大的开发复杂度。


### 聚合

事实上，领域并不完全依赖这种外部的机制来实现极致的确定性和可能性空间。

领域从根本上有自己独立的设计来保障他们。

这就是聚合。


    聚合是个很含混的概念，从DDD诞生依赖，就么有人讲清楚过。我并不是从DDD理论了解聚合的。
    事实上早期我是DDD理论的怀疑者。
    
    我认为并非所有领域都存在领域模型，都适用于领域驱动理论。并且，没有人知道哪个问题不适合。
    大部分时候都是靠感觉和拍脑门做决策，看起来对的理论，但是在复杂系统中相当危险的理论。
    
    ——扯远了

我们用一个例子来说明聚合这个概念的现实中是什么样子的。









 

 
