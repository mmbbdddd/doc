# 从修摩托谈起Spring依赖反转

10年之前我买了一个摩托车，不过骑了没几个月，一杯水不小心泼到了钥匙眼的那个位置
然后不久知道不知道什么原因，车子发动不了。

我充分发挥程序员DIY爱动手的优势，钥匙和卡拧了无数遍，结果还是没用。于是推
到店家维修。 然后，我就安静的站在一边，等着看学习老板怎么排查问题。

结果老板连查看问题在哪里都没查看，直接把内部电路板全部换了套新的给我。

 我们现代社会已经**高度分工合作到了这个地步**

    1，衣服旧了，买新比缝缝补补更有性价比
    
    2，车子坏了，模块化换新比学习如何修理更有性价比

在程序上，其实有类似的情况——专业名词叫做“模块化”。

基于模块化原则， 大部分程序员

在开发通讯程序的时候，不需要知道TCP/IP底层的原理和知识，只需要懂得如何使用Netty的API即可。

在开发分布式程序的时候，不需要知道服务注册、同步等细节，只需要知道用那个接口即可。

甚至，

在底层通讯框架变化、应用程序也可以做到一行代码都不用修改。

在底层服务崩溃的情况下、上层依然可以流畅的给用户提供服务……


达成这种高度模块化、面对各种变化高度灵活和可靠的基本架构设计原则叫做：依赖反转。


# 依赖反转的目的和原则

依赖反转有几个目的
    
    1，解耦组件A和组件B之间的关系，让他们彼此透明
    2，解耦组件A和组件B之间的关系，让他们单向有向

其中组件A和B也有几种情况
    
    1，A和B都是组件
    2，A是局部，B是整体
    3，A是原因，B是结果
    4，A是过去，B是将来

# 三种实用的依赖注入方式
## 向容器注入
## 向JVM注入
## 向上下文注入