# 实体是什么

    实体是无限性的抽象。
    在软件和外部交互中，交互是无穷无尽的，这个交互数据的抽象就是实体，必须用ID来确保其唯一性，即使其值是完全相等的，ID不同，也是两个实体。
    例如：幂等即是防止这种情况

# 实体和实体服务

    在领域中，每个实体对应一个实体服务
    例如PayOrder对应PayService
    PayService{
             void pay(PayOrder order);
             void cancel(String orderId);
    }

# 充血还是贫血
    
    实体对象和实体服务，一般是两个对象。这会引起一些追求技术完美的开发人员的质疑。

    
贫血写法

     User
     UserService.select()  UserService.save(User);
    
充血写法

     User.select(){
          SpringUtils.getBean(UserService).select();
     }
     User.save(){
          SpringUtils.getBean(UserService).save(this)
     }

     充血写法还需要解决的问题
     1，UserService对外不可见
     2,User对领域外不能直接使用，需转为Dto对象。
     在这种情况下，充血对外只暴露一个对象。具有更好的一致性。

//充血贫血模型的本质差异是对外暴漏的”接口对象数量“、一致性、以及工程可维护性。

    

# 聚合和实体

User和Address之间的逻辑应该放在哪里？UserServer还是AddressServer，还是再新增一个第三方UserAddressService。

